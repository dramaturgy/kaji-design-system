<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta content="initial-scale=1, shrink-to-fit=no, width=device-width" name="viewport">
    <!-- CSS -->
    <link rel="stylesheet" href="../css/kaji-material.css">
    <link rel="stylesheet" href="../css/product-cms.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="https://use.fontawesome.com/ebb6ee31d7.js"></script>
    <!-- Add Material CSS, replace Bootstrap CSS -->
  </head>
  <body>
    <nav class="navbar navbar-expand-lg fixed-top navbar-light bg-white faux-border-bottom">
      <a class="navbar-brand" href="#">Edukaji</a>

      <ul class="navbar-nav ml-md-auto">
        <li class="nav-item">
          <a class="nav-link py-1 px-2 dropdown-toggle"
            data-toggle="dropdown"
            id="js_cms_navbar_user_dropdown"
            href="javascript:void(0);"><span
              class="d-inline-block align-bottom lh-4">My Name</span><span
                class="d-inline-block align-bottom ml-1" data-feather="chevron-down"></span></a>
          <div class="dropdown-menu">
            <a class="dropdown-item" href="#">Action 1</a>
            <a class="dropdown-item" href="#">Action 2</a>
            <a class="dropdown-item" href="#">Settings</a>
            <a class="dropdown-item" href="#">Logout</a>
          </div>
        </li>
        <li class="nav-item">
          <a class="nav-link p-0 mx-2"
            style="border-radius: 50%; overflow: hidden; opacity: 1;" 
            href="javascript:void(0);"><img height="32" src="../copy/sample/avatar/admin.png" alt=""></a>
        </li>
      </ul>
    </nav>
    <div class="container-fluid px-0">
      <div class="row no-gutters">
        <nav class="cms-sidenav col-3 col-md-2 d-none d-md-block bg-white">
          <div class="cms-sidenav-sticky has-navbar-fixed">
            <ul class="nav flex-column">
              <li class="nav-item" id="js_sidenav_parent_item_school" data-children=".js-sidenav-child-item-school">
                <div class="js-sidenav-child-item-school">
                  <a class="nav-link d-flex justify-content-between py-3" data-toggle="collapse" data-parent="#js_sidenav_parent_item_school" href="#js_sidenav_accordion_item_school">
                    <div>
                      <span class="d-inline-block align-bottom" data-feather="home"></span><span class="d-inline-block lh-lg align-bottom ml-3">School</span>
                    </div>
                    <span data-feather="plus-circle" style="width: 16px;"></span>
                  </a>
                  <ul class="nav flex-column collapse" id="js_sidenav_accordion_item_school" role="tabpanel">
                    <li class="nav-item">
                      <a class="nav-link py-3" href="#"><span class="d-inline-block align-bottom" data-feather="check"></span><span class="d-inline-block lh-lg align-bottom ml-3">School X1</span></a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link py-3" href="#"><span class="d-inline-block align-bottom" data-feather="arrow-up-right"></span><span class="d-inline-block lh-lg align-bottom ml-3">School X2</span></a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link py-3" href="#"><span class="d-inline-block align-bottom" data-feather="arrow-up-right"></span><span class="d-inline-block lh-lg align-bottom ml-3">School X3</span></a>
                    </li>
                  </ul>
                </div>
              </li>
              <li class="nav-item faux-border-top">
                <a class="nav-link py-3" href="#"><span class="d-inline-block align-bottom" data-feather="layout"></span><span class="d-inline-block lh-lg align-bottom ml-3">Dashboard</span></a>
              </li>
              <li class="nav-item">
                <a class="nav-link py-3 active" href="#"><span class="d-inline-block align-bottom" data-feather="align-justify"></span><span class="d-inline-block lh-lg align-bottom ml-3">Tuition Fee</span></a>
              </li>
              <li class="nav-item">
                <a class="nav-link py-3" href="#"><span class="d-inline-block align-bottom" data-feather="monitor"></span><span class="d-inline-block lh-lg align-bottom ml-3">Entry Fee</span></a>
              </li>
              <li class="nav-item">
                <a class="nav-link py-3" href="#"><span class="d-inline-block align-bottom" data-feather="users"></span><span class="d-inline-block lh-lg align-bottom ml-3">Students</span></a>
              </li>
              <li class="nav-item">
                <a class="nav-link py-3" href="#"><span class="d-inline-block align-bottom" data-feather="award"></span><span class="d-inline-block lh-lg align-bottom ml-3">Scores</span></a>
              </li>
              <li class="nav-item">
                <a class="nav-link py-3" href="#"><span class="d-inline-block align-bottom" data-feather="book-open"></span><span class="d-inline-block lh-lg align-bottom ml-3">Programmes</span></a>
              </li>
              <li class="nav-item faux-border-top">
                <a class="nav-link py-3" href="#"><span class="d-inline-block align-bottom" data-feather="send"></span><span class="d-inline-block lh-lg align-bottom ml-3">Posting</span></a>
              </li>
            </ul>
          </div>
        </nav>
        <main role="main" class="dashboard-main col-12 col-md-10 bg-light-2 py-3" style="min-height: 100vh">
          <div class="container-fluid has-navbar-fixed">
            <section class="row hero-tuition">
              <div class="col-12">
                <div class="card border-black-divider-solid">
                  <div class="card-body">
                    <div class="card-title">
                      <h4>Tuition</h4>
                    </div>
                    <p class="card-text">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Numquam porro, iusto libero.</p>
                  </div>
                </div>
              </div>
            </section>
            <section class="row py-3 filter-bar-tuition">
              <div class="col-12">
                <p class="subheading-black d-block">FILTER</p>
                <div class="button-toolbar py-2">
                  <div class="btn-group">
                    <button class="btn btn-white btn-fw-regular" type="button" style="text-transform: capitalize;">Status</button>
                    <button class="btn btn-white text-primary dropdown-toggle border-light" type="button" id="js_dropdown_filter_tuition_status" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                      <span>All</span><span class="fa fa-caret-down ml-2"></span>
                    </button>
                    <div class="dropdown-menu dropdown-menu-right">
                      <button class="dropdown-item" type="button">All</button>
                      <button class="dropdown-item" type="button">Paid</button>
                      <button class="dropdown-item" type="button">Unpaid</button>
                    </div>
                  </div>
                  <div class="btn-group">
                    <button class="btn btn-white btn-fw-regular" type="button" style="text-transform: capitalize;">Grade</button>
                    <button class="btn btn-white text-primary dropdown-toggle border-light" type="button" id="js_dropdown_filter_tuition_grade" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                      <span>All</span><span class="fa fa-caret-down ml-2"></span>
                    </button>
                    <div class="dropdown-menu dropdown-menu-right">
                      <button class="dropdown-item" type="button">All</button>
                      <div class="dropdown-divider"></div>
                      <button class="dropdown-item" type="button">9</button>
                      <button class="dropdown-item" type="button">8</button>
                      <button class="dropdown-item" type="button">7</button>
                      <div class="dropdown-divider"></div>
                      <button class="dropdown-item" type="button">6</button>
                      <button class="dropdown-item" type="button">5</button>
                      <button class="dropdown-item" type="button">4</button>
                    </div>
                  </div>
                  <div class="btn-group">
                    <button class="btn btn-white btn-fw-regular" type="button" style="text-transform: capitalize;">Class</button>
                    <button class="btn btn-white text-primary dropdown-toggle border-light" type="button" id="js_dropdown_filter_tuition_class" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                      <span>All</span><span class="fa fa-caret-down ml-2"></span>
                    </button>
                    <div class="dropdown-menu dropdown-menu-right">
                      <button class="dropdown-item" type="button">All</button>
                      <div class="dropdown-divider"></div>
                      <button class="dropdown-item" type="button">A</button>
                      <button class="dropdown-item" type="button">B</button>
                      <button class="dropdown-item" type="button">C</button>
                      <button class="dropdown-item" type="button">D</button>
                    </div>
                  </div>
                  <div class="btn-group">
                    <button class="btn btn-white btn-fw-regular" type="button" style="text-transform: capitalize;">Year</button>
                    <button class="btn btn-white text-primary dropdown-toggle border-light" type="button" id="js_dropdown_filter_tuition_status" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                      <span>Now</span><span class="fa fa-caret-down ml-2"></span>
                    </button>
                    <div class="dropdown-menu dropdown-menu-right">
                      <button class="dropdown-item" type="button">Now</button>
                      <div class="dropdown-divider"></div>
                      <button class="dropdown-item" type="button">2018</button>
                      <button class="dropdown-item" type="button">2017</button>
                      <button class="dropdown-item" type="button">2016</button>
                      <button class="dropdown-item" type="button">2015</button>
                    </div>
                  </div>
                  <div class="btn-group">
                    <button class="btn btn-white btn-fw-regular" type="button" style="text-transform: capitalize;">Since</button>
                    <button class="btn btn-white text-primary dropdown-toggle border-light" type="button" id="js_dropdown_filter_tuition_month_start" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                      <span>Now</span><span class="fa fa-caret-down ml-2"></span>
                    </button>
                    <div class="dropdown-menu dropdown-menu-right">
                      <button class="dropdown-item" type="button">Now</button>
                      <div class="dropdown-divider"></div>
                      <button class="dropdown-item" type="button">Jan</button>
                      <button class="dropdown-item" type="button">Feb</button>
                      <button class="dropdown-item" type="button">Mar</button>
                      <button class="dropdown-item" type="button">Apr</button>
                      <button class="dropdown-item" type="button">Jun</button>
                      <button class="dropdown-item" type="button">Jul</button>
                      <button class="dropdown-item" type="button">Aug</button>
                      <button class="dropdown-item" type="button">Sep</button>
                      <button class="dropdown-item" type="button">Oct</button>
                      <button class="dropdown-item" type="button">Nov</button>
                      <button class="dropdown-item" type="button">Dec</button>
                    </div>
                    <button class="btn btn-white btn-fw-regular border-light" type="button" style="text-transform: lowercase;">to</button>
                    <button class="btn btn-white text-primary dropdown-toggle border-light" type="button" id="js_dropdown_filter_tuition_month_end" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                      <span>Now</span><span class="fa fa-caret-down ml-2"></span>
                    </button>
                    <div class="dropdown-menu dropdown-menu-right">
                      <button class="dropdown-item" type="button">Now</button>
                      <div class="dropdown-divider"></div>
                      <button class="dropdown-item" type="button">Jan</button>
                      <button class="dropdown-item" type="button">Feb</button>
                      <button class="dropdown-item" type="button">Mar</button>
                      <button class="dropdown-item" type="button">Apr</button>
                      <button class="dropdown-item" type="button">Jun</button>
                      <button class="dropdown-item" type="button">Jul</button>
                      <button class="dropdown-item" type="button">Aug</button>
                      <button class="dropdown-item" type="button">Sep</button>
                      <button class="dropdown-item" type="button">Oct</button>
                      <button class="dropdown-item" type="button">Nov</button>
                      <button class="dropdown-item" type="button">Dec</button>
                    </div>
                  </div>
                  <button class="btn btn-primary" type="submit">FILTER</button>
                </div>
              </div>
            </section>
            <section class="row">
              <div class="col-12">
                <div class="card">
                  <div class="card-body py-0">
                    <div class="kaji-table-wrapper">
                      <div class="kaji-table-scroller">
                        <table class="table kaji-table" id="js_cms_tuition_table">
                          <thead>
                            <tr>
                              <th class="col-w-s" scope="col">#</th>
                              <th class="col-w-m" scope="col">Name</th>
                              <th class="col-w-m" scope="col">Jul</th>
                              <th class="col-w-m" scope="col">Aug</th>
                              <th class="col-w-m" scope="col">Sep</th>
                              <th class="col-w-m" scope="col">Oct</th>
                              <th class="col-w-m" scope="col">Nov</th>
                              <th class="col-w-m" scope="col">Dec</th>
                            </tr>
                          </thead>
                          <tbody></tbody>
                        </table>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </section>

            <script id="js_tuition_cell_id_template" type="text/x-lodash-template">
              <td><%= rowIndex %></td>
            </script>

            <script id="js_tuition_cell_name_template" type="text/x-lodash-template">
              <td class="d-block col-w-m overflow-ellipsis">
                <a class="text-dark d-block js-cms-tuition-table-col"
                  href="#js_cms_tuition_student_collapse_content"
                  data-toggle="collapse"
                ><span class="fa fa-cog mr-2"></span><span class="js-cms-tuition-table-col-name"><%= record.name %></span></a>
              </td>
            </script>

            <script id="js_tuition_cell_payments_template" type="text/x-lodash-template">
              <% for( var d = 0; d < record.payments.length; d ++ ) { %>
              <td>
                <div class="dropdown">
                  <a class="js-cms-tuition-table-col text-dark"
                    href="javascript:void(0);"
                    data-toggle="tooltip"
                    data-placement="bottom"
                    data-html="true"
                    title="<div>Paid at <%= record.payments[d].month %><br/>For <%= record.payments[d].periodStart %> - <%= record.payments[d].periodEnd %></div>"
                  ><%= record.payments[d].paid %></a>
                </div>
              </td>
              <% } %>
            </script>
          </div>
        </main>
      </div>
    </div>
    <div id="js_cms_tuition_template_contents" class="d-none">
      <div class="js-cms-tuition-name-popover-content">
        <div class="p-2 border rounded">
          <a href="javascript:void(0);" class="btn btn-light text-left"><span class="fa fa-envelope mr-2 text-primary"></span>Email</a>
          <a href="javascript:void(0);" class="btn btn-light text-left"><span class="fa fa-comment mr-2 text-primary"></span>SMS</a>
          <a href="javascript:void(0);" class="btn btn-light text-left"><span class="fa fa-pencil mr-2 text-primary"></span>Edit</a>
          <a href="javascript:void(0);" class="btn btn-light text-left"><span class="fa fa-trash mr-2 text-danger"></span>Delete</a>
        </div>
      </div>
    </div>

    <script src="../copy/vendor/jquery.min.js"></script>
    <script src="../copy/vendor/popper.min.js"></script>
    <script src="https://unpkg.com/feather-icons/dist/feather.min.js"></script>
    <script src="../copy/vendor/bootstrap.min.js"></script>
    <script src="../copy/vendor/material.min.js"></script>
    <script src="../copy/vendor/lodash.min.js"></script>
    <script src="../copy/vendor/jquery.dynatable.js"></script>

    
    <script>
      feather.replace();
    </script>

    
    <script src="../copy/vendor/faker.min.js"></script>

    
    <script src="../copy/vendor/babel.min.js"></script>

    <script type="text/babel">
      faker.locale = "en_IND";
      const generateFakeTuition = () => {
        return [
          'Albert Camus',
          'Franz Kafka',
          'George Orwell',
          'Jean-Paul Sartre',
          'Paulo Coelho'
        ].map((studentName, i) => ({
          'name': studentName,
          'email': (studentName.split(' ').join('.') + '@mail.com').toLowerCase(),
          'phone': faker.phone.phoneNumber(),
          'payments': (() => {
                      return [
                        'Jul 2017',
                        'Aug 2017',
                        'Sep 2017',
                        'Oct 2017',
                        'Nov 2017',
                        'Dec 2017'
                      ].map((month, i) => ({
                        'month': month,
                        'paid': `Rp ${faker.random.number( { min: 5, max: 9 } ) * 100}.000`,
                        'periodStart': `${faker.random.arrayElement(['Jul', 'Aug', 'Sep'])} 2017`,
                        'periodEnd': `${faker.random.arrayElement(['Jul', 'Aug', 'Sep'])} 2017`
                      }))
                    })()
        }));
      };

      const fakeTuition = generateFakeTuition();
    </script>

    
    <script>
      $(function () {

        function formatRupiah(value) {
          function format(value, places, symbol, thousand, decimal) {
            value = value || 0;
            places = !isNaN(places = Math.abs(places)) ? places : 2;
            symbol = symbol !== undefined ? symbol : "Rp";
            thousand = thousand || ".";
            decimal = decimal || ",";
            var negative = value < 0 ? "-" : "",
                i = parseInt(value = Math.abs(+value || 0).toFixed(places), 10) + "",
                j = (j = i.length) > 3 ? j % 3 : 0;
            return symbol + negative + (j ? i.substr(0, j) + thousand : "") + i.substr(j).replace(/(\d{3})(?=\d)/g, "$1" + thousand) + (places ? decimal + Math.abs(value - i).toFixed(places).slice(2) : "");
          }

          return format(value, 0, "Rp ", ".", ",");
        }

        function tuitionRowWriter(rowIndex, record, columns, cellWriter) {

          var data = {rowIndex: rowIndex, record:record};

          function generateIdCell( rowIndex, record ) {
            var idTemplate = $('#js_tuition_cell_id_template').html();
            var templateFn = _.template(idTemplate);
            var templateHTML = templateFn({rowIndex: rowIndex, record: record});
            return templateHTML;
          }

          function generateNameCell( rowIndex, record ) {
            var idTemplate = $('#js_tuition_cell_name_template').html();
            var templateFn = _.template(idTemplate);
            var templateHTML = templateFn({rowIndex: rowIndex, record: record});
            return templateHTML;
          }

          function generatePaymentCells( templateIn, rowIndex, record ) {

            var templateFn = _.template(templateIn.html());
            var templateOut = templateFn({rowIndex: rowIndex, record: record});
            return templateOut;
          }

          return '<tr>' +
            generateIdCell( rowIndex, record ) +
            generateNameCell( rowIndex, record ) +
            generatePaymentCells( $('#js_tuition_cell_payments_template'), rowIndex, record ) +
            '</tr>';
        }

        $('#js_cms_tuition_table').dynatable({
          features: {
            paginate: false,
            sort: false,
            pushState: false,
            search: false,
            recordCount: false,
            perPageSelect: false
          },
          dataset: {
            records: fakeTuition
          },
          writers: {
            _rowWriter: tuitionRowWriter
          }
        });

        $('[data-toggle="tooltip"]').tooltip();

        $('.js-cms-tuition-table-col').on('click', function(e) {
          $(this).closest('td').toggleClass('bg-light');
        });

      });
    </script>
  </body>
</html>