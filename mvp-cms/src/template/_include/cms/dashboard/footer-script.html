    <script src="../copy/vendor/jquery.min.js"></script>
    <script src="../copy/vendor/popper.min.js"></script>
    <script src="https://unpkg.com/feather-icons/dist/feather.min.js"></script>
    <script src="../copy/vendor/bootstrap.min.js"></script>
    <script src="../copy/vendor/material.min.js"></script>
    <script src="../copy/vendor/lodash.min.js"></script>
    <script src="../copy/vendor/jquery.dynatable.js"></script>
    <script src="../copy/vendor/bootstrap-select.min.js"></script>
    <script src="../copy/vendor/datepicker.min.js"></script>
    <script src="../copy/vendor/datepicker.en.js"></script>
    <script src="../copy/vendor/interact.min.js"></script>

    {# Feather Icons #}
    <script>
      feather.replace();
    </script>

    {# Dashboard UI Script #}
    <script>
      $(function () {

        // Lodash template custom delimiter
        _.templateSettings = {
            interpolate: /\<\@\=(.+?)\@\>/g,
            evaluate: /\<\@(.+?)\@\>/g
        };

        // Cache elements
        var $msgCards = $('.js-card-message');

        function initResizeInteraction( el, ctx ) {
          if ( !el.length && ctx.length ) return;

          function resizemovehandler( e ) {
            var target = e.target,
                x = (parseFloat(target.getAttribute('data-x')) || 0),
                y = (parseFloat(target.getAttribute('data-y')) || 0);

            target.style.width  = e.rect.width + 'px';
            target.style.height = e.rect.height + 'px';

            target.style.webkitTransform =
            target.style.transform = 'translate(' + x + 'px,' + y + 'px)';

            target.setAttribute('data-x', x);
            target.setAttribute('data-y', y);
          }

          // initiate interactjs
          interact(el)
            .resizable({
              edges: { left: false, right: false, bottom: false, top: true },
              restrictEdges: {
                endOnly: false
              },
              restrictSize: {
                min: { height: 64 },
                max: { height: 480 }
              },
              inertia: true
            })
            .on('resizemove', resizemovehandler);
        }

        function initMessageCards( el ) {
          if ( !el.length ) return;

          function generateMessageArticle( templateIn, data ) {
            var templateFn = _.template(templateIn.html());
            var templateOut = templateFn(data);
            return templateOut;
          }

          var $root = $('#js_dashboard_main')
          ,   $msgArticleWrapper = $('<div>')
              .attr({
                'id': 'js_dashboard_message_article_wrapper',
                'class': 'message-article-wrapper',
                'data-message-opened': '0'
              });

          $root.append( $msgArticleWrapper );
          $msgArticleWrapper = $root.find('#js_dashboard_message_article_wrapper');

          // Loop the message cards
          el.each( function(i) {
            var $self = $(this);
            
            // Initiate click event
            $self.on('click', function(e) {
              e.preventDefault();

              // Check if message not already open
              if ( !$self[0].hasAttribute( 'data-message-open' ) ) {

                // Populate data
                var _data = {
                  id: $self.attr('data-message-id') || '0',
                  title: $self.find('.js-message-title').text()
                };

                // Append message article into DOM, along it's data
                $msgArticleWrapper
                  .append( generateMessageArticle( $('#js_dashboard_message_article_template'), _data ) );

                // Add the message opened counter
                var msgOpenCounter = parseInt( $msgArticleWrapper.attr('data-message-opened') );
                msgOpenCounter++;
                $msgArticleWrapper.attr('data-message-opened', msgOpenCounter);
                
                // Cache the newly appended message article
                var $msgArticle = $msgArticleWrapper.find( '#js_message_article_' + _data.id );

                // Cache message order
                var msgOrder = $msgArticleWrapper.attr('data-message-opened');

                // Set attr with message order
                $msgArticle.attr('data-message-order', msgOrder );

                // Set message article default layout & z-index
                $msgArticle.css({
                  'right': 96 * ( parseInt( msgOrder ) - 1 ),
                  'z-index': msgOrder
                });

                // Init resize
                initResizeInteraction( $msgArticle[0], $msgArticleWrapper[0] );

                // Toggle message open flag
                $self.attr('data-message-open', '');
              }
            });
          });

          // Swapping Z
          $(document).on('click', '.js-message-article', function(e) {
            e.preventDefault();
            if ( !$('.js-message-article').length || $('.js-message-article').length < 1 ) return false;
            var $self = $(this);

            var zIndexes = _.map( $('.js-message-article'), function(el) { return parseInt( $(el).css('z-index') ) })
            ,   maxZ = _.max( zIndexes )
            ,   currentZ = parseInt( $self.css('z-index') );
            console.log( zIndexes, maxZ, currentZ );

            if ( currentZ < maxZ ) $self.css('z-index', maxZ + 1);
          })
        }

        initMessageCards( $msgCards );
      });
    </script>